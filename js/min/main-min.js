console.log("loaded");var gameStarted=!1,p1Cards=0,p2Cards=0,p1Hand=[],p2Hand=[],p1PlayedCard=null,p2PlayedCard=null,card1Value,card2Value,p1Truce=!1,p2Truce=!1;$("#p1Score").text(p1Cards),$("#p2Score").text(p2Cards),$("#btnStop").hide();var compareCards=function(a,e){"use strict";return 3===a.length?card1Value=parseInt(a.substr(1,3)):a.indexOf("J")?card1Value=11:a.indexOf("Q")?card1Value=12:a.indexOf("K")?card1Value=13:a.indexOf("A")&&(card1Value=14),3===e.length?card2Value=parseInt(e.substr(1,3)):e.indexOf("J")?card2Value=11:e.indexOf("Q")?card2Value=12:e.indexOf("K")?card2Value=13:e.indexOf("A")&&(card2Value=14),card2Value>card1Value?($("#p1Result").addClass("success").text("Winner"),$("#p2Result").addClass("error").text("Loser"),"Player 1"):card1Value>card2Value?($("#p2Result").addClass("success").text("Winner"),$("#p1Result").addClass("error").text("Loser"),"Player 2"):"We have a tie";p1PlayedCard=null,p2PlayedCard=null},playHand=function(){"use strict";if("p1Deck"===this.id?(p1PlayedCard=p1Hand.shift(),$("#p1Pile").removeClass().addClass("card west "+p1PlayedCard)):(p2PlayedCard=p2Hand.shift(),$("#p2Pile").removeClass().addClass("card west "+p2PlayedCard)),null!==p1PlayedCard&&null!==p2PlayedCard){var a=compareCards(p1PlayedCard,p2PlayedCard);$(".status").text(a),"Player 1"===a?(console.log("p1 wins"),p1Hand.push(p1PlayedCard,p2PlayedCard)):"Player 2"===a?(p2Hand.push(p1PlayedCard,p2PlayedCard),console.log("p2 wins")):console.log("problem"),$("#p1Score").text(p1Hand.length),$("#p2Score").text(p2Hand.length)}},stopGame=function(){"use strict";gameStarted=!1,p1Cards=0,p2Cards=0,p1Hand=[],p2Hand=[],$("#p1Score").text(p1Hand.length),$("#p2Score").text(p2Hand.length),$(".status").text("Game Over"),$("#btnStop").hide(),$("#btnStart").show()},dealOutHand=function(){"use strict";$(".status").text("Shuffling cards...");for(var a=shuffle(),e=0;26>e;e++)p1Hand.push(a.pop()),p2Hand.push(a.pop());$("#p1Score").text(p1Hand.length),$("#p2Score").text(p2Hand.length),$(".status").text("Cards Dealt")},startGame=function(a){"use strict";gameStarted=!0,$("#p1Deck").on("click",playHand),$("#p2Deck").on("click",playHand),$(".status").text("Game Started"),$("#btnStart").hide(),$("#btnStop").show(),$("#btnStop").on("click",stopGame),dealOutHand()},declareTruce=function(){"use strict";$(".status").text($(this).text())},btnStart=$("#btnStart").on("click",startGame),btnP1Truce=$(".p1-truce").on("click",declareTruce),btnP2Truce=$(".p2-truce").on("click",declareTruce);